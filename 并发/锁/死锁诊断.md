# 死锁诊断

## 交叉锁引起的死锁
一般交叉锁引起的死锁线程都会进入`BLOCKED`状态，CPU占用不高，可以使用jstack或jconsole查看线程信息，发现死锁。

## 死循环引起的死锁
可以使用jstack、jconsole、jvisualvm等工具查看，但不会有很明显的提示。产生死锁的线程处于`Runnable`状态，CPU使用率居高不下，甚至无法正常响应命令。
可以使用jprofile工具抓出来方法线程的运行状态，根据方法的耗时来推断死锁的位置。